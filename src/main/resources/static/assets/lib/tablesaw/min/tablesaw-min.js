"undefined"==typeof Tablesaw&&(Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}),Tablesaw.config||(Tablesaw.config={}),Tablesaw.mustard&&jQuery(document.documentElement).addClass("tablesaw-enhanced"),function($){var t="table",e={toolbar:"tablesaw-bar"},a={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},s="stack",n="table[data-tablesaw-mode],table[data-tablesaw-sortable]",i=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=$(t),this.mode=this.$table.attr("data-tablesaw-mode")||s,this.init()};i.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",t+"-"+Math.round(1e4*Math.random())),this.createToolbar();var e=this._initCells();this.$table.trigger(a.create,[this,e])},i.prototype._initCells=function(){var t,e=this.table.querySelectorAll("thead tr"),a=this;return $(e).each(function(){var s=0;$(this).children().each(function(){var n=parseInt(this.getAttribute("colspan"),10),i=":nth-child("+(s+1)+")";if(t=s+1,n)for(var l=0;n-1>l;l++)s++,i+=", :nth-child("+(s+1)+")";this.cells=a.$table.find("tr").not(e[0]).not(this).children().filter(i),s++})}),t},i.prototype.refresh=function(){this._initCells(),this.$table.trigger(a.refresh)},i.prototype.createToolbar=function(){var t=this.$table.prev().filter("."+e.toolbar);t.length||(t=$("<div>").addClass(e.toolbar).insertBefore(this.$table)),this.$toolbar=t,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},i.prototype.destroy=function(){this.$table.prev().filter("."+e.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var s=this.$table.attr("id");$(document).unbind("."+s),$(window).unbind("."+s),this.$table.trigger(a.destroy,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(t)},$.fn[t]=function(){return this.each(function(){var e=$(this);if(!e.data(t)){var a=new i(this);e.data(t,a)}})},$(document).on("enhance.tablesaw",function(e){Tablesaw.mustard&&$(e.target).find(n)[t]()})}(jQuery),function(t,$,e){var a={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},s={obj:"tablesaw-stack"},n={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},i=function(t){this.$table=$(t),this.labelless=this.$table.is("["+n.labelless+"]"),this.hideempty=this.$table.is("["+n.hideempty+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(s.obj,this)};i.prototype.init=function(t){if(this.$table.addClass(a.stackTable),!this.labelless){var e=$(this.allHeaders),s=this.hideempty;e.each(function(){var e=$(this),i=$(this.cells).filter(function(){return!($(this).parent().is("["+n.labelless+"]")||s&&$(this).is(":empty"))}),l=i.not(this).filter("thead th").length&&" tablesaw-cell-label-top",o=e.find(".tablesaw-sortable-btn"),r=o.length?o.html():e.html();if(""!==r)if(l){var c=parseInt($(this).attr("colspan"),10),d="";c&&(d="td:nth-child("+c+"n + "+t+")"),i.filter(d).prepend("<b class='"+a.cellLabels+l+"'>"+r+"</b>")}else i.wrapInner("<span class='"+a.cellContentLabels+"'></span>"),i.prepend("<b class='"+a.cellLabels+"'>"+r+"</b>")})}},i.prototype.destroy=function(){this.$table.removeClass(a.stackTable),this.$table.find("."+a.cellLabels).remove(),this.$table.find("."+a.cellContentLabels).each(function(){$(this).replaceWith(this.childNodes)})},$(document).on("tablesawcreate",function(t,e,a){if("stack"===e.mode){var s=new i(e.table);s.init(a)}}),$(document).on("tablesawdestroy",function(t,e){"stack"===e.mode&&$(e.table).data(s.obj).destroy()})}(this,jQuery),function($){var t="tablesawbtn",e={_create:function(){return $(this).each(function(){$(this).trigger("beforecreate."+t)[t]("_init").trigger("create."+t)})},_init:function(){var e=$(this),a=this.getElementsByTagName("select")[0];return a&&$(this).addClass("btn-select")[t]("_select",a),e},_select:function(t){var e=function(t,e){var a=$(e).find("option"),s,n,i;if(a.each(function(){var t=this;t.selected&&(s=document.createTextNode(t.text))}),i=t.childNodes,a.length>0)for(var l=0,o=i.length;o>l;l++)n=i[l],n&&3===n.nodeType&&t.replaceChild(s,n)};e(this,t),$(this).bind("change refresh",function(){e(this,t)})}};$.fn[t]=function(e,a,s,n){return this.each(function(){return e&&"string"==typeof e?$.fn[t].prototype[e].call(this,a,s,n):$(this).data(t+"active")?$(this):($(this).data(t+"active",!0),void $.fn[t].prototype._create.call(this))})},$.extend($.fn[t].prototype,e)}(jQuery),function(t,$,e){var a=function(t){this.$table=$(t),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};a.prototype.init=function(){function t(){o.addClass("visible"),n.removeClass("down").addClass("up"),$(document).unbind("click."+a,e),window.clearTimeout(d),d=window.setTimeout(function(){$(document).one("click."+a,e)},15)}function e(t){t&&$(t.target).closest("."+r.classes.popup).length||($(document).unbind("click."+a),n.removeClass("up").addClass("down"),o.removeClass("visible"))}var a,s,n,i,l,o,r=this;this.$table.addClass(this.classes.columnToggleTable),a=this.$table.attr("id"),s=a+"-popup",o=$("<div class='"+this.classes.columnBtnContain+"'></div>"),n=$("<a href='#"+s+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+Tablesaw.i18n.columnBtnText+"</span></a>"),i=$("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+s+"'></div>"),l=$("<div class='btn-group'></div>");var c=!1;$(this.headers).not("td").each(function(){var t=$(this),e=t.attr("data-tablesaw-priority"),a=r.$getCells(this);e&&"persist"!==e&&(a.addClass(r.classes.priorityPrefix+e),$("<label><input type='checkbox' checked>"+t.text()+"</label>").appendTo(l).children(0).data("tablesaw-header",this),c=!0)}),c||l.append("<label>"+Tablesaw.i18n.columnsDialogError+"</label>"),l.appendTo(i),l.find('input[type="checkbox"]').on("change",function(t){var e=t.target.checked;r.$getCellsFromCheckbox(t.target).toggleClass("tablesaw-cell-hidden",!e).toggleClass("tablesaw-cell-visible",e),r.$table.trigger("tablesawcolumns")}),n.appendTo(o),o.appendTo(this.$table.prev().filter("."+this.classes.toolbar));var d;n.on("click.tablesaw",function(a){a.preventDefault(),o.is(".visible")?e():t()}),i.appendTo(o),this.$menu=l,$(window).on("resize."+a,function(){r.refreshToggle()}),this.refreshToggle()},a.prototype.$getCells=function(t){return $(t).add(t.cells)},a.prototype.$getCellsFromCheckbox=function(t){var e=$(t).data("tablesaw-header");return this.$getCells(e)},a.prototype.refreshToggle=function(){var t=this;this.$menu.find("input").each(function(){this.checked="table-cell"===t.$getCellsFromCheckbox(this).eq(0).css("display")})},a.prototype.refreshPriority=function(){var t=this;$(this.headers).not("td").each(function(){var e=$(this),a=e.attr("data-tablesaw-priority"),s=e.add(this.cells);a&&"persist"!==a&&s.addClass(t.classes.priorityPrefix+a)})},a.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var t=$(this);t.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},$(document).on("tablesawcreate",function(t,e){if("columntoggle"===e.mode){var s=new a(e.table);s.init()}}),$(document).on("tablesawdestroy",function(t,e){"columntoggle"===e.mode&&$(e.table).data("tablesaw-coltoggle").destroy()})}(this,jQuery),function(t,$,e){function a(){var t=document.createElement("div"),e=t.getElementsByTagName("i");return t.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->",!!e.length}function s(e){function s(t){return $(t.cells).add(t)}function n(t){s(t).removeClass("tablesaw-cell-hidden")}function i(t){s(t).addClass("tablesaw-cell-hidden")}function l(t){s(t).addClass("tablesaw-cell-persist")}function o(t){return $(t).is('[data-tablesaw-priority="persist"]')}function r(){e.removeClass(T),$("#"+j+"-persist").remove()}function c(){var t="#"+j+".tablesaw-swipe ",a=[],s=e.width(),n=[],i;x.each(function(e){var i;o(this)&&(i=$(this).outerWidth(),.75*s>i&&(n.push(e+"-"+i),a.push(t+" .tablesaw-cell-persist:nth-child("+(e+1)+") { width: "+i+"px; }")))}),i=n.join("_"),e.addClass(T);var l=$("#"+j+"-persist");l.length&&l.data("hash")===i||(l.remove(),a.length&&$("<style>"+a.join("\n")+"</style>").attr("id",j+"-persist").data("hash",i).appendTo(_))}function d(){var t=[],e;return k.each(function(a){var s=$(this),n="none"===s.css("display")||s.is(".tablesaw-cell-hidden");if(n||e){if(n&&e)return t[1]=a,!1}else e=!0,t[0]=a}),t}function h(){var t=d();return[t[1]-1,t[0]-1]}function u(t){return t?d():h()}function b(t){return t[1]>-1&&t[1]<k.length}function f(){var a=e.attr("data-tablesaw-swipe-media");return!a||"matchMedia"in t&&t.matchMedia(a).matches}function p(){if(f()){var t=20,a=e.parent().width(),s=[],o=0,c=[],d=x.length;x.each(function(e){var n=$(this),i=n.is('[data-tablesaw-priority="persist"]');s.push(i),o+=N[e]+(i?0:t),c.push(o),(i||o>a)&&d--});var h=0===d;x.each(function(t){return s[t]?void l(this):void(c[t]<=a||h?(h=!1,n(this)):i(this))}),B&&r(),e.trigger("tablesawcolumns")}}function w(t){var a=u(t);b(a)&&(isNaN(a[0])&&(t?a[0]=0:a[0]=k.length-1),B&&c(),i(k.get(a[0])),n(k.get(a[1])),e.trigger("tablesawcolumns"))}function m(t,e){return(t.touches||t.originalEvent.touches)[0][e]}var v=$("<div class='tablesaw-advance'></div>"),g=$("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(v),y=$("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(v),C="disabled",T="tablesaw-fix-persist",x=e.find("thead th"),k=x.not('[data-tablesaw-priority="persist"]'),N=[],_=$(document.head||"head"),j=e.attr("id"),B=!a();if(!x.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");e.css("width","auto"),x.each(function(){N.push($(this).outerWidth())}),e.css("width",""),v.appendTo(e.prev().filter(".tablesaw-bar")),e.addClass("tablesaw-swipe"),j||(j="tableswipe-"+Math.round(1e4*Math.random()),e.attr("id",j)),g.add(y).click(function(t){w(!!$(t.target).closest(y).length),t.preventDefault()}),e.bind("touchstart.swipetoggle",function(e){var a=m(e,"pageX"),s=m(e,"pageY"),n,i;$(t).off("resize",p),$(this).bind("touchmove",function(t){n=m(t,"pageX"),i=m(t,"pageY");var e=Tablesaw.config.swipe;Math.abs(n-a)>e.horizontalThreshold&&Math.abs(i-s)<e.verticalThreshold&&t.preventDefault()}).bind("touchend.swipetoggle",function(){var e=Tablesaw.config.swipe;Math.abs(i-s)<e.verticalThreshold&&(n-a<-1*e.horizontalThreshold&&w(!0),n-a>e.horizontalThreshold&&w(!1)),window.setTimeout(function(){$(t).on("resize",p)},300),$(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){g[b(h())?"removeClass":"addClass"](C),y[b(d())?"removeClass":"addClass"](C)}).bind("tablesawnext.swipetoggle",function(){w(!0)}).bind("tablesawprev.swipetoggle",function(){w(!1)}).bind("tablesawdestroy.swipetoggle",function(){var e=$(this);e.removeClass("tablesaw-swipe"),e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),$(t).off("resize",p),e.unbind(".swipetoggle")}),p(),$(t).on("resize",p)}$.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}}),$(document).on("tablesawcreate",function(t,e){"swipe"===e.mode&&s(e.$table)})}(this,jQuery),function($){function t(t){return $.map(t.childNodes,function(t){var e=$(t);if(e.is("input, select"))return e.val();if(!e.hasClass("tablesaw-cell-label"))return $.trim(e.text())}).join("")}var e="tablesaw-sortable",a="table[data-"+e+"]",s="[data-"+e+"-switch]",n={defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric"},i={head:e+"-head",ascend:e+"-ascending",descend:e+"-descending",switcher:e+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:e+"-btn"},l={_create:function(t){return $(this).each(function(){var a=$(this).data("init"+e);return a?!1:void $(this).data("init"+e,!0).trigger("beforecreate."+e)[e]("_init",t).trigger("create."+e)})},_init:function(){var a=$(this),l,o,r=function(){a.addClass(e)},c=function(t){$.each(t,function(t,e){$(e).addClass(i.head)})},d=function(t,e){$.each(t,function(t,a){var s=$("<button class='"+i.sortButton+"'/>");s.bind("click",{col:a},e),$(a).wrapInner(s)})},h=function(t){$.each(t,function(t,e){var a=$(e);a.removeAttr(n.defaultCol),a.removeClass(i.ascend),a.removeClass(i.descend)})},u=function(t){if(!$(t.target).is("a[href]")){t.stopPropagation();var s=$(this).parent(),n=t.data.col,r=l.index(s);h(s.siblings()),s.hasClass(i.descend)?(a[e]("sortBy",n,!0),r+="_asc"):(a[e]("sortBy",n),r+="_desc"),o&&o.find("select").val(r).trigger("refresh"),t.preventDefault()}},b=function(t){$.each(t,function(t,e){var a=$(e);a.is("["+n.defaultCol+"]")&&(a.hasClass(i.descend)||a.addClass(i.ascend))})},f=function(s){o=$("<div>").addClass(i.switcher).addClass(i.tableToolbar).html(function(){var e=["<label>"+Tablesaw.i18n.sort+":"];return e.push('<span class="btn btn-small">&#160;<select>'),s.each(function(a){var s=$(this),l=s.is("["+n.defaultCol+"]"),o=s.hasClass(i.descend),r=s.is("[data-sortable-numeric]"),c=0,d=5;$(this.cells).slice(0,d).each(function(){isNaN(parseInt(t(this),10))||c++});var h=c===d;r||s.attr("data-sortable-numeric",h?"":"false"),e.push("<option"+(l&&!o?" selected":"")+' value="'+a+'_asc">'+s.text()+" "+(h?"&#x2191;":"(A-Z)")+"</option>"),e.push("<option"+(l&&o?" selected":"")+' value="'+a+'_desc">'+s.text()+" "+(h?"&#x2193;":"(Z-A)")+"</option>")}),e.push("</select></span></label>"),e.join("")});var l=a.prev().filter(".tablesaw-bar"),r=l.children().eq(0);r.length?o.insertBefore(r):o.appendTo(l),o.find(".btn").tablesawbtn(),o.find("select").on("change",function(){var t=$(this).val().split("_"),n=s.eq(t[0]);h(n.siblings()),a[e]("sortBy",n.get(0),"asc"===t[1])})};r(),l=a.find("thead th[data-"+e+"-col]"),c(l),d(l,u),b(l),a.is(s)&&f(l,a.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(t){return $(t).prevAll().length},getTableRows:function(){return $(this).find("tbody tr")},sortRows:function(e,a,s,n){var i,l,o,r=function(e){var s=[];return $.each(e,function(e,n){var i=$(n).children().get(a);s.push({element:i,cell:t(i),rowNum:e})}),s},c=function(t,e){var a,s=/[^\-\+\d\.]/g;return a=t?function(t,a){return e?parseFloat(t.cell.replace(s,""))-parseFloat(a.cell.replace(s,"")):t.cell.toLowerCase()>a.cell.toLowerCase()?1:-1}:function(t,a){return e?parseFloat(a.cell.replace(s,""))-parseFloat(t.cell.replace(s,"")):t.cell.toLowerCase()<a.cell.toLowerCase()?1:-1}},d=function(t,e){var a=[],s,n,i;for(s=0,n=t.length;n>s;s++)i=t[s].rowNum,a.push(e[i]);return a};i=r(e);var h=$(n).data("tablesaw-sort");return l=(h&&"function"==typeof h?h(s):!1)||c(s,$(n).is("[data-sortable-numeric]")&&!$(n).is('[data-sortable-numeric="false"]')),o=i.sort(l),e=d(o,e)},replaceTableRows:function(t){var e=$(this),a=e.find("tbody");a.html(t)},makeColDefault:function(t,e){var a=$(t);a.attr(n.defaultCol,"true"),e?(a.removeClass(i.descend),a.addClass(i.ascend)):(a.removeClass(i.ascend),a.addClass(i.descend))},sortBy:function(t,a){var s=$(this),n,i;n=s[e]("getColumnNumber",t),i=s[e]("getTableRows"),i=s[e]("sortRows",i,n,a,t),s[e]("replaceTableRows",i),s[e]("makeColDefault",t,a)}};$.fn[e]=function(t){var a=Array.prototype.slice.call(arguments,1),s;return t&&"string"==typeof t?(s=$.fn[e].prototype[t].apply(this[0],a),"undefined"!=typeof s?s:$(this)):($(this).data(e+"data")||($(this).data(e+"active",!0),$.fn[e].prototype._create.call(this,t)),$(this))},$.extend($.fn[e].prototype,l),$(document).on("tablesawcreate",function(t,s){s.$table.is(a)&&s.$table[e]()})}(jQuery),function(t,$,e){function a(e){function a(e){var a=e.attr(s.attr.init);return!a||t.matchMedia&&t.matchMedia(a).matches}function n(){if(!a(e))return void i.hide();i.show();var t=l.find("li").removeClass(o);e.find("thead th").each(function(e){"none"===$(this).css("display")&&t.eq(e).addClass(o)})}var i=$('<div class="tablesaw-advance minimap">'),l=$('<ul class="tablesaw-advance-dots">').appendTo(i),o="tablesaw-advance-dots-hide",r=e.find("thead th");r.each(function(){l.append("<li><i></i></li>")}),i.appendTo(e.prev().filter(".tablesaw-bar")),n(),$(t).on("resize",n),e.bind("tablesawcolumns.minimap",function(){n()}).bind("tablesawdestroy.minimap",function(){var e=$(this);e.prev().filter(".tablesaw-bar").find(".tablesaw-advance").remove(),$(t).off("resize",n),e.unbind(".minimap")})}var s={attr:{init:"data-tablesaw-minimap"}};$(document).on("tablesawcreate",function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+s.attr.init+"]")||a(e.$table)})}(this,jQuery),function(t,$){var e={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],init:function(t){var a=$(t),s=a.attr(e.attributes.excludeMode),n=a.prev().filter(".tablesaw-bar"),i="",l=$("<div>").addClass(e.classes.main+" "+e.classes.toolbar).html(function(){var t=["<label>"+Tablesaw.i18n.columns+":"],n=a.attr("data-tablesaw-mode"),l;t.push('<span class="btn btn-small">&#160;<select>');for(var o=0,r=e.modes.length;r>o;o++)s&&s.toLowerCase()===e.modes[o]||(l=n===e.modes[o],l&&(i=e.modes[o]),t.push("<option"+(l?" selected":"")+' value="'+e.modes[o]+'">'+Tablesaw.i18n.modes[o]+"</option>"));return t.push("</select></span></label>"),t.join("")}),o=n.find(".tablesaw-advance").eq(0);o.length?l.insertBefore(o):l.appendTo(n),l.find(".btn").tablesawbtn(),l.find("select").bind("change",e.onModeChange)},onModeChange:function(){var t=$(this),a=t.closest("."+e.classes.main),s=t.closest(".tablesaw-bar").nextUntil(s).eq(0),n=t.val();a.remove(),s.data("table").destroy(),s.attr("data-tablesaw-mode",n),s.table()}};$(t.document).on("tablesawcreate",function(t,a){a.$table.is(e.selectors.init)&&e.init(a.table)})}(this,jQuery);